<div class="wrap-card-body">
    <div class="steps-container">
        <div class="step step-active">
            <div class="step-icon">1</div>
            <div class="step-content step-content1">
                <div class="step-title">Chỗ mong muốn</div>
            </div>
            <div class="step-tail"></div>
        </div>
        <div class="step step-inactive">
            <div class="step-icon step-icon-2 step-content2">2</div>
            <div class="step-content">
                <div class="step-title step-title2">Điểm đón trả</div>
            </div>
            <div class="step-tail"></div>
        </div>
    </div>
</div>
<div class="trust-message">
    <p class="trust-message-text"><i class="fas fa-shield-alt"></i> Vexere cam kết giữ đúng chỗ
        bạn đã chọn.</p>
</div>
<div class="coupon-container">
    <div class="wrap-coupon">
        <input class="Coupon__HiddenInput-sc-1mhp588-4 cFDugh" value="FS060824VXR10">
        <div class="kNCupL">
            <div class="border-coupon">
                <div class="flex-coupon">
                    <div class="img-coupon">
                        <div class="icon-tau-coupon">
                            <i class="fa fa-train" aria-hidden="true"></i>
                        </div>
                        <img src="{{ asset('images/img-coupon.jpg') }}" alt="logo">
                        <div class="coupon-image-title">
                            <p class="coupon-image-title-t">Giảm</p>
                            <p class="coupon-image-title-b">10%</p>
                        </div>
                    </div>
                    <div class="text-coupon">
                        <div class="coupon-exp">
                            Giờ vàng <i class="fas fa-exclamation-circle"></i>
                        </div>
                        <p class="text-coupon-reduce">Giảm 10%</p>
                        <p class="text-coupon-reduce-b">Đơn hàng tối đa 1 vé </p>
                        <div class="wrap-expiry">
                            <div class="text-expiry">HSD:</div>
                            <p class="date-expiry">T3, 06/08 14:00</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="wrap-coupon">
        <input class="Coupon__HiddenInput-sc-1mhp588-4 cFDugh" value="FS060824VXR10">
        <div class="kNCupL">
            <div class="border-coupon">
                <div class="flex-coupon">
                    <div class="img-coupon">
                        <div class="icon-tau-coupon">
                            <i class="fa fa-train" aria-hidden="true"></i>
                        </div>
                        <img src="{{ asset('images/img-coupon.jpg') }}" alt="logo">
                        <div class="coupon-image-title">
                            <p class="coupon-image-title-t">Giảm</p>
                            <p class="coupon-image-title-b">10%</p>
                        </div>
                    </div>
                    <div class="text-coupon">
                        <div class="coupon-exp">
                            Giờ vàng <i class="fas fa-exclamation-circle"></i>
                        </div>
                        <p class="text-coupon-reduce">Giảm 10%</p>
                        <p class="text-coupon-reduce-b">Đơn hàng tối đa 1 vé </p>
                        <div class="wrap-expiry">
                            <div class="text-expiry">HSD:</div>
                            <p class="date-expiry">T3, 06/08 14:00</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="wrap-coupon">
        <input class="Coupon__HiddenInput-sc-1mhp588-4 cFDugh" value="FS060824VXR10">
        <div class="kNCupL">
            <div class="border-coupon">
                <div class="flex-coupon">
                    <div class="img-coupon">
                        <div class="icon-tau-coupon">
                            <i class="fa fa-train" aria-hidden="true"></i>
                        </div>
                        <img src="{{ asset('images/img-coupon.jpg') }}" alt="logo">
                        <div class="coupon-image-title">
                            <p class="coupon-image-title-t">Giảm</p>
                            <p class="coupon-image-title-b">10%</p>
                        </div>
                    </div>
                    <div class="text-coupon">
                        <div class="coupon-exp">
                            Giờ vàng <i class="fas fa-exclamation-circle"></i>
                        </div>
                        <p class="text-coupon-reduce">Giảm 10%</p>
                        <p class="text-coupon-reduce-b">Đơn hàng tối đa 1 vé </p>
                        <div class="wrap-expiry">
                            <div class="text-expiry">HSD:</div>
                            <p class="date-expiry">T3, 06/08 14:00</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="wrap-coupon">
        <input class="Coupon__HiddenInput-sc-1mhp588-4 cFDugh" value="FS060824VXR10">
        <div class="kNCupL">
            <div class="border-coupon">
                <div class="flex-coupon">
                    <div class="img-coupon">
                        <div class="icon-tau-coupon">
                            <i class="fa fa-train" aria-hidden="true"></i>
                        </div>
                        <img src="{{ asset('images/img-coupon.jpg') }}" alt="logo">
                        <div class="coupon-image-title">
                            <p class="coupon-image-title-t">Giảm</p>
                            <p class="coupon-image-title-b">10%</p>
                        </div>
                    </div>
                    <div class="text-coupon">
                        <div class="coupon-exp">
                            Giờ vàng <i class="fas fa-exclamation-circle"></i>
                        </div>
                        <p class="text-coupon-reduce">Giảm 10%</p>
                        <p class="text-coupon-reduce-b">Đơn hàng tối đa 1 vé </p>
                        <div class="wrap-expiry">
                            <div class="text-expiry">HSD:</div>
                            <p class="date-expiry">T3, 06/08 14:00</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="wrap-coupon">
        <input class="Coupon__HiddenInput-sc-1mhp588-4 cFDugh" value="FS060824VXR10">
        <div class="kNCupL">
            <div class="border-coupon">
                <div class="flex-coupon">
                    <div class="img-coupon">
                        <div class="icon-tau-coupon">
                            <i class="fa fa-train" aria-hidden="true"></i>
                        </div>
                        <img src="{{ asset('images/img-coupon.jpg') }}" alt="logo">
                        <div class="coupon-image-title">
                            <p class="coupon-image-title-t">Giảm</p>
                            <p class="coupon-image-title-b">10%</p>
                        </div>
                    </div>
                    <div class="text-coupon">
                        <div class="coupon-exp">
                            Giờ vàng <i class="fas fa-exclamation-circle"></i>
                        </div>
                        <p class="text-coupon-reduce">Giảm 10%</p>
                        <p class="text-coupon-reduce-b">Đơn hàng tối đa 1 vé </p>
                        <div class="wrap-expiry">
                            <div class="text-expiry">HSD:</div>
                            <p class="date-expiry">T3, 06/08 14:00</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="container-steps-content">
    <div class="wrap-steps-content">
        <div class="left-steps-content">
            @if (count($seatTemplateMap) > 0 && isset($seatMap['vehicle']['seat_type']))
                <div class="seat-groups">
                    <div class="note">Chú thích</div>
                    <div class="seat-info">
                        {!! renderSeat('default', 'unselected') !!}
                        <span class="seat-name">Ghế không bán</span>
                    </div>
                    <div class="seat-info">
                        {!! renderSeat('bed', 'selected') !!}
                        <span class="seat-name">Đang chọn</span>
                    </div>
                    <div class="seat-info">
                        {!! renderSeat('couple') !!}
                        <span class="seat-name">Ghế trống</span>
                    </div>
                    <div class="seat-info">
                        {!! renderSeat('default', '', 'seat-discount') !!}
                        <span class="seat-name">
                            <div class="seat-name-group">CABIN ĐƠN</div>
                            <div class="seat-original">
                                <strong>315,000đ</strong>
                                <span class="seat-fare-original">350,000đ</span>
                            </div>
                        </span>
                    </div>
                    <div class="seat-info">
                        {!! renderSeat('default', '', 'seat-group') !!}
                        <span class="seat-name">
                            <div class="seat-name-group">CABIN ĐÔI</div>
                            <div class="seat-original">
                                <strong>495,000đ</strong>
                                <span class="seat-fare-original">550,000đ</span>
                            </div>
                        </span>
                    </div>
                </div>
            @else
                <div class="seat-note">
                    <div class="label">Lưu ý</div>
                    <div>Chuyến này không hỗ trợ chọn chỗ trước</div>
                </div>
            @endif
        </div>
        <div class="right-steps-content">
            @if (count($seatTemplateMap) > 0)
                @foreach ($seatTemplateMap as $i => $coach)
                    <div class="wrap-coach">
                        <div class="mb-2 mt-2">
                            <span>{{ $coach['coach_name'] }}</span>
                        </div>
                        <div class="coach">
                            <table>
                                <tbody>
                                    @for ($row = 1; $row <= $coach['num_rows']; $row++)
                                        <tr class="coach-row">
                                            @for ($col = 1; $col <= $coach['num_cols']; $col++)
                                                @php
                                                    // Tìm ghế tại vị trí hàng và cột tương ứng
                                                    $seat = collect($coach['seats'])->firstWhere(function ($s) use (
                                                        $row,
                                                        $col,
                                                    ) {
                                                        return $s['row_num'] == $row && $s['col_num'] == $col;
                                                    });

                                                @endphp
                                                @if (isset($seat['is_available']) && $seat['is_available'] == false)
                                                    <td class="seat">
                                                        <div class="seat-choose-item seat-container"
                                                            data-disabled="{{ $seat['is_available'] ? 'false' : 'true' }}">
                                                            {!! renderSeat('default', 'unselected') !!}
                                                        </div>
                                                    </td>
                                                @elseif ($seat)
                                                    <td class="seat">
                                                        <div class="seat-choose-item seat-container"
                                                            data-disabled="{{ $seat['is_available'] ? 'false' : 'true' }}"
                                                            data-full-code="{{ $seat['full_code'] }}"
                                                            data-seat-code="{{ $seat['seat_code'] }}">
                                                            {!! renderSeat('default', $seat['seat_code']) !!}
                                                        </div>
                                                    </td>
                                                @else
                                                    <td class="seat">
                                                        <div class="seat-choose-item  seat-none" data-disabled="true"
                                                            style="background-color: transparent;">
                                                            <!-- Trường hợp không có ghế -->
                                                        </div>
                                                    </td>
                                                @endif
                                            @endfor
                                        </tr>
                                    @endfor
                                </tbody>
                            </table>
                        </div>
                    </div>
                @endforeach
            @else
                <div class="online-note-selection">
                    <div class="title">Số lượng khách</div>
                    <div class="seat-group-selection">
                        <div style="color: rgb(184, 184, 184);">Ghế thường · 250,000đ</div>
                        <div class="unique-quantity-input">
                            <i class="fas fa-minus-circle unique-sub-icon"></i>
                            <span id="unique-quantity">0</span>
                            <i class="fas fa-plus-circle unique-plus-icon"></i>
                        </div>
                    </div>
                </div>
            @endif
        </div>
    </div>
</div>

<div class="modal fade" id="exampleModal" aria-hidden="true">
    <div class="modal-dialog modal-dialog-new">
        <div class="modal-content">
            <div class="wrap-content">
                <h6 class="modal-title fs-5" id="exampleModalLabel">Mã
                    giường</h6>
                <button type="button" class="btn-close btn-modal-content" data-bs-dismiss="modal"
                    aria-label="Close"></button>
            </div>
            {{-- <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
        </div> --}}
            <div class="text-modal">
                <p>Đây là giường có thể nằm tối đa 2 khách.<br>
                    Giá vé sẽ tương ứng với số lượng khách.</p>
            </div>
            <div class="group-chosen">
                <div class="left-group-chosen">
                    <p class="text-chosen-t">CABIN ĐÔI (2 Khách) (Tổng dưới 160kg)</p>
                    <p class="text-chosen-b">850.000đ</p>
                </div>
                <div class="right-group-chosen">
                    <p class="text-chosen-t">CABIN ĐƠN (1 Khách)</p>
                    <p class="text-chosen-b">650.000đ</p>
                </div>
            </div>
            <button type="button" class="ant-btn button-confirmchoose-chair"><span>Xác
                    nhận</span></button>
        </div>
    </div>
</div>
